<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Class Meeting 25 Class Meeting 07: | STAT 545 @ UBC: Class Meeting Guide 2019/20</title>
  <meta name="description" content="Class Meeting 25 Class Meeting 07: | STAT 545 @ UBC: Class Meeting Guide 2019/20" />
  <meta name="generator" content="bookdown 0.11 and GitBook 2.6.7" />

  <meta property="og:title" content="Class Meeting 25 Class Meeting 07: | STAT 545 @ UBC: Class Meeting Guide 2019/20" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="stat-545.png" />
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Class Meeting 25 Class Meeting 07: | STAT 545 @ UBC: Class Meeting Guide 2019/20" />
  
  
  <meta name="twitter:image" content="stat-545.png" />

<meta name="author" content="Vincenzo Coia and Firas Moosvi" />


<meta name="date" content="2019-08-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="class-meeting-06.html">
<link rel="next" href="class-meeting-08.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">STAT 545 @ UBC 2019-20</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About This Guide</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-stat-545-and-github.html"><a href="introduction-to-stat-545-and-github.html"><i class="fa fa-check"></i><b>1</b> Introduction to STAT 545 and GitHub</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a></li>
<li class="chapter" data-level="3" data-path="authoring.html"><a href="authoring.html"><i class="fa fa-check"></i><b>3</b> Authoring</a></li>
<li class="chapter" data-level="4" data-path="the-version-control-workflow.html"><a href="the-version-control-workflow.html"><i class="fa fa-check"></i><b>4</b> The version control workflow</a></li>
<li class="chapter" data-level="5" data-path="intro-to-data-wrangling-part-i.html"><a href="intro-to-data-wrangling-part-i.html"><i class="fa fa-check"></i><b>5</b> Intro to data wrangling, Part I</a></li>
<li class="chapter" data-level="6" data-path="intro-to-data-wrangling-part-ii.html"><a href="intro-to-data-wrangling-part-ii.html"><i class="fa fa-check"></i><b>6</b> Intro to data wrangling, Part II</a></li>
<li class="chapter" data-level="7" data-path="introduction-to-plotting-with-ggplot2-part-i.html"><a href="introduction-to-plotting-with-ggplot2-part-i.html"><i class="fa fa-check"></i><b>7</b> Introduction to plotting with <code>ggplot2</code>, Part I</a></li>
<li class="chapter" data-level="8" data-path="introduction-to-plotting-with-ggplot2-part-ii.html"><a href="introduction-to-plotting-with-ggplot2-part-ii.html"><i class="fa fa-check"></i><b>8</b> Introduction to plotting with <code>ggplot2</code>, Part II</a></li>
<li class="chapter" data-level="9" data-path="tidy-data-and-pivoting.html"><a href="tidy-data-and-pivoting.html"><i class="fa fa-check"></i><b>9</b> Tidy Data and Pivoting</a></li>
<li class="chapter" data-level="10" data-path="joining-two-tables.html"><a href="joining-two-tables.html"><i class="fa fa-check"></i><b>10</b> Joining Two Tables</a></li>
<li class="chapter" data-level="11" data-path="advanced-r-programming.html"><a href="advanced-r-programming.html"><i class="fa fa-check"></i><b>11</b> Advanced R programming</a></li>
<li class="chapter" data-level="12" data-path="be-the-boss-of-your-factors.html"><a href="be-the-boss-of-your-factors.html"><i class="fa fa-check"></i><b>12</b> Be the Boss of your Factors</a></li>
<li class="chapter" data-level="13" data-path="effective-plotting.html"><a href="effective-plotting.html"><i class="fa fa-check"></i><b>13</b> Effective Plotting</a></li>
<li class="chapter" data-level="14" data-path="the-model-fitting-paradigm-in-r.html"><a href="the-model-fitting-paradigm-in-r.html"><i class="fa fa-check"></i><b>14</b> The Model-Fitting Paradigm in R</a></li>
<li class="chapter" data-level="15" data-path="today-2.html"><a href="today-2.html"><i class="fa fa-check"></i><b>15</b> Today</a></li>
<li class="chapter" data-level="16" data-path="resources-10.html"><a href="resources-10.html"><i class="fa fa-check"></i><b>16</b> Resources</a></li>
<li class="chapter" data-level="17" data-path="break.html"><a href="break.html"><i class="fa fa-check"></i><b>17</b> Break</a></li>
<li class="chapter" data-level="18" data-path="deep-thoughts-about-data-analytic-work.html"><a href="deep-thoughts-about-data-analytic-work.html"><i class="fa fa-check"></i><b>18</b> Deep Thoughts about Data Analytic Work</a></li>
<li class="chapter" data-level="" data-path="stat-547m.html"><a href="stat-547m.html"><i class="fa fa-check"></i>STAT 547M</a></li>
<li class="chapter" data-level="19" data-path="class-meeting-02-be-the-boss-of-your-character-data.html"><a href="class-meeting-02-be-the-boss-of-your-character-data.html"><i class="fa fa-check"></i><b>19</b> Class Meeting 02: Be the boss of your character data</a></li>
<li class="chapter" data-level="20" data-path="class-meeting-03-repetition-with-purrr.html"><a href="class-meeting-03-repetition-with-purrr.html"><i class="fa fa-check"></i><b>20</b> Class Meeting 03: Repetition with <code>purrr</code></a></li>
<li class="chapter" data-level="21" data-path="class-meeting-04-purrr-and-list-columns.html"><a href="class-meeting-04-purrr-and-list-columns.html"><i class="fa fa-check"></i><b>21</b> Class Meeting 04: <code>purrr</code> and List Columns</a></li>
<li class="chapter" data-level="22" data-path="class-meetings-5-and-6-r-packages.html"><a href="class-meetings-5-and-6-r-packages.html"><i class="fa fa-check"></i><b>22</b> Class Meetings 5 and 6: R Packages</a></li>
<li class="chapter" data-level="23" data-path="getting-started-3.html"><a href="getting-started-3.html"><i class="fa fa-check"></i><b>23</b> Getting Started</a></li>
<li class="chapter" data-level="24" data-path="class-meeting-06.html"><a href="class-meeting-06.html"><i class="fa fa-check"></i><b>24</b> Class Meeting 06:</a></li>
<li class="chapter" data-level="25" data-path="class-meeting-07.html"><a href="class-meeting-07.html"><i class="fa fa-check"></i><b>25</b> Class Meeting 07:</a></li>
<li class="chapter" data-level="26" data-path="class-meeting-08.html"><a href="class-meeting-08.html"><i class="fa fa-check"></i><b>26</b> Class Meeting 08:</a></li>
<li class="chapter" data-level="27" data-path="class-meeting-09-automation.html"><a href="class-meeting-09-automation.html"><i class="fa fa-check"></i><b>27</b> Class Meeting 09: Automation</a></li>
<li class="chapter" data-level="28" data-path="non-interactive-programming.html"><a href="non-interactive-programming.html"><i class="fa fa-check"></i><b>28</b> Non-interactive programming</a></li>
<li class="chapter" data-level="29" data-path="class-meeting-10-automation-part-ii.html"><a href="class-meeting-10-automation-part-ii.html"><i class="fa fa-check"></i><b>29</b> Class Meeting 10: Automation, Part II</a></li>
<li class="chapter" data-level="30" data-path="class-meeting-11-getting-data-from-the-web-part-1.html"><a href="class-meeting-11-getting-data-from-the-web-part-1.html"><i class="fa fa-check"></i><b>30</b> Class Meeting 11: Getting Data from the Web, Part 1</a></li>
<li class="chapter" data-level="31" data-path="class-meeting-12-getting-data-from-the-web-part-2-apis.html"><a href="class-meeting-12-getting-data-from-the-web-part-2-apis.html"><i class="fa fa-check"></i><b>31</b> Class Meeting 12: Getting Data from the Web, Part 2: API’s</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">STAT 545 @ UBC: Class Meeting Guide 2019/20</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="class-meeting-07" class="section level1">
<h1><span class="header-section-number">Class Meeting 25</span> Class Meeting 07:</h1>
<p>— LAST YEAR’S CONTENT BELOW —</p>
<div id="orientation" class="section level2">
<h2><span class="header-section-number">25.1</span> Orientation</h2>
<div id="objective" class="section level3">
<h3><span class="header-section-number">25.1.1</span> Objective</h3>
<p>This tutorial is intended to introduce <code>shiny</code> in a classroom setting. This tutorial is intended to provide students a foundation in shiny, with the expectation that students will be able to:</p>
<ul>
<li>develop basic shiny apps from scratch,</li>
<li>deploy a shiny app,</li>
<li>create interactive Shiny R Markdown documents, and</li>
<li>research more advanced shiny techniques.</li>
</ul>
</div>
<div id="resources-14" class="section level3">
<h3><span class="header-section-number">25.1.2</span> Resources</h3>
<p>This tutorial is an abridged version of the <a href="http://stat545.com/shiny01_activity.html">stat545.com shiny tutorial</a> written by Dean Attali, with some minor differences/rearrangements. (I think) the stat545.com tutorial is identical to <a href="https://deanattali.com/blog/building-shiny-apps-tutorial/">the tutorial on Dean’s website</a>.</p>
<p>The <a href="https://shiny.rstudio.com/">official <code>shiny</code> site</a> is also very useful. It has tutorials, a gallery, and other goodies.</p>
<p>Specific topics:</p>
<ul>
<li>For Shiny R Markdown documents, see <a href="https://bookdown.org/yihui/rmarkdown/shiny-documents.html">Chapter 19 of Yihui’s R Markdown book</a>.</li>
<li>For deploying shiny apps, see <a href="http://www.shinyapps.io/">shinyapps.io</a>.</li>
</ul>
</div>
<div id="participation-7" class="section level3">
<h3><span class="header-section-number">25.1.3</span> Participation</h3>
<p>We’ll be making an external product, like last week. This week we’ll be making a shiny app out of the BC liquor data (loaded in later).</p>
<p>Complete version by Dean Attali <a href="https://daattali.com/shiny/bcl/">here</a>.</p>
</div>
</div>
<div id="why-use-shiny" class="section level2">
<h2><span class="header-section-number">25.2</span> Why use <code>shiny</code>?</h2>
<ul>
<li>When presenting your analysis: respond to others’ “what if”s.
<ul>
<li>Both in-person meetings and written analyses.</li>
</ul></li>
<li>“There’s an app for that”, and you can make it with shiny.</li>
<li>Could even provide a user interface to your R package.</li>
<li>Could even make a website out of shiny, like <a href="https://mbienz.shinyapps.io/tourism_dashboard_prod/">this New Zealand Tourism website</a>.</li>
</ul>
</div>
<div id="getting-started-with-shiny" class="section level2">
<h2><span class="header-section-number">25.3</span> Getting Started with <code>shiny</code></h2>
<div id="together" class="section level3">
<h3><span class="header-section-number">25.3.1</span> Together:</h3>
<p>Install shiny, and load it:</p>
<pre><code>install.packages(&quot;shiny&quot;)
library(shiny)</code></pre>
<p>Start a new shiny app. “File -&gt; New File -&gt; shiny web app -&gt; Single file”. Notice:</p>
<ul>
<li><code>app.R</code> is made in a new folder.</li>
<li>Shiny app needs ui and server.</li>
<li>Run with <code>shinyApp(ui, server)</code> – or, click “Run App” (appears if <code>server</code> and <code>shinyApp()</code> are present)</li>
</ul>
<p>Delete the “guts” of ui and server.</p>
</div>
</div>
<div id="intro-to-the-ui" class="section level2">
<h2><span class="header-section-number">25.4</span> Intro to the UI</h2>
<div id="html-aside" class="section level3">
<h3><span class="header-section-number">25.4.1</span> HTML: Aside</h3>
<p>Did you know webpages are made up of HTML? Find the “view source” button on your browser!</p>
</div>
<div id="html-my-turn" class="section level3">
<h3><span class="header-section-number">25.4.2</span> HTML: My Turn</h3>
<ul>
<li>Character entries in <code>ui</code> displayed as-is.</li>
<li>Can add HTML. I’ll add a level-1 header in three ways:
<ol style="list-style-type: decimal">
<li><code>tags</code> object</li>
<li>Some of the <code>tags</code> are available as functions, too, like <code>h1()</code>.</li>
<li><code>HTML()</code> function for generic HTML.</li>
</ol></li>
<li>You can nest tags, too: <code>h1(em(&quot;This is my header.&quot;))</code></li>
<li>Code before the <code>ui</code> gets run, too, and can be read by the ui. Let’s see!</li>
</ul>
</div>
<div id="html-your-turn" class="section level3">
<h3><span class="header-section-number">25.4.3</span> HTML: Your Turn</h3>
<p>Try using three <code>tags</code> in the <code>ui</code>, aside from <code>h1</code> and <code>em</code>. Find the documentation for them <a href="https://shiny.rstudio.com/articles/tag-glossary.html">here</a> (links to official shiny site).</p>
</div>
<div id="download-the-data-together" class="section level3">
<h3><span class="header-section-number">25.4.4</span> Download the data: Together</h3>
<p>Dean Attali has prepared a tidy data set as a <code>.csv</code> <a href="https://deanattali.com/files/bcl-data.csv">here</a>.</p>
<ol style="list-style-type: decimal">
<li>Save this csv to your app’s folder as <code>bcl-data.csv</code>.</li>
<li>Read the file in by placing this code below the loading of <code>shiny</code>:</li>
</ol>
<pre><code>bcl &lt;- read.csv(&quot;bcl-data.csv&quot;, stringsAsFactors = FALSE)</code></pre>
<p>Explore the data.</p>
<p>We’ll use this later.</p>
</div>
<div id="layouts-together" class="section level3">
<h3><span class="header-section-number">25.4.5</span> Layouts: Together</h3>
<p>We usually place content in <em>panels</em>, arranged in <em>layouts</em>.</p>
<p>Most common:</p>
<ul>
<li><code>sidebarLayout()</code>. Requires two arguments:
<ul>
<li><code>sidebarPanel()</code> (column, 1/6 of the page)</li>
<li><code>mainPanel()</code> (column, 5/6 of the page)</li>
</ul></li>
<li>Grid layout with <code>fluidRow()</code> and <code>column()</code> (this is more generic; provides more control)</li>
</ul>
<p>To the <code>ui</code>, let’s copy the below code, which</p>
<ol style="list-style-type: decimal">
<li>gives the app a title with <code>titlePanel()</code>, and</li>
<li>gives the app a sidebarlayout.</li>
</ol>
<pre><code>    titlePanel(&quot;BC Liquor price app&quot;, 
               windowTitle = &quot;BCL app&quot;),
    sidebarLayout(
        sidebarPanel(&quot;This text is in the sidebar.&quot;),
        mainPanel(&quot;This text is in the main panel.&quot;)
    )</code></pre>
<p>Want more info on layouts? See <a href="https://shiny.rstudio.com/articles/layout-guide.html">shiny.rstudio.com’s layouts page</a>.</p>
</div>
<div id="overall-look-at-the-ui-my-turn" class="section level3">
<h3><span class="header-section-number">25.4.6</span> Overall look at the <code>ui</code>: My Turn</h3>
<p>Check out the <code>ui</code> object after running it. It’s just HTML!</p>
</div>
</div>
<div id="intro-to-the-server" class="section level2">
<h2><span class="header-section-number">25.5</span> Intro to the server</h2>
<div id="displaying-output-my-turn" class="section level3">
<h3><span class="header-section-number">25.5.1</span> Displaying output: My Turn</h3>
<p>Try to display a plot in the ui – a histogram of price, with <code>ggplot2::qplot(bcl$Price)</code>. It won’t work.</p>
<p>Remove it!</p>
<p>The shiny processing flow is as follows:</p>
<ol style="list-style-type: decimal">
<li>Run code in <code>server</code>.</li>
<li>Display output in <code>ui</code>.</li>
</ol>
<p>We’ll do this backwards.</p>
</div>
<div id="displaying-output-ui-side-together" class="section level3">
<h3><span class="header-section-number">25.5.2</span> Displaying output, ui side: Together</h3>
<p>Let’s create a placeholder for the output in the ui. The <code>*Output()</code> family of functions helps us with this; in this case, <code>plotOutput()</code>. Common required argument: a unique <code>outputId</code> for identification.</p>
<ol style="list-style-type: decimal">
<li>Add <code>plotOutput()</code> with the ID <code>&quot;price_hist&quot;</code>, to the main panel in the ui.</li>
<li>Run the app to see nothing has happened.</li>
</ol>
</div>
<div id="displaying-output-server-side-together" class="section level3">
<h3><span class="header-section-number">25.5.3</span> Displaying output, server side: Together</h3>
<p>About:</p>
<ul>
<li>The <code>output</code> argument of our <code>server()</code> function (below <code>ui</code>) is a named list (actually, “list-like”) <em>that we define</em>, with names corresponding to the ID’s in the <code>*Output()</code> functions found in <code>ui</code>.</li>
<li>Each component must contain the output of a <code>render*()</code> function; in this case, <code>renderPlot()</code>. This is allowed to have R code.</li>
</ul>
<p>Let’s put in the missing piece to making the histogram by adding a line to the <code>server()</code> function:</p>
<ol style="list-style-type: decimal">
<li>Add an entry: <code>output$price_hist</code>.</li>
<li>Make the entry the output of <code>renderPlot()</code>, whose input is the plotting code <code>ggplot2::qplot(bcl$Price)</code>.</li>
</ol>
</div>
<div id="displaying-output-your-turn" class="section level3">
<h3><span class="header-section-number">25.5.4</span> Displaying output: Your Turn</h3>
<p>Use what you’ve learned about outputs to display a table of the BC Liquor data below the plot.</p>
<p>Hints:</p>
<ul>
<li>You’ll need <code>renderTable()</code> and <code>tableOutput()</code> – but where?</li>
<li>Don’t forget to add a comma within the <code>mainPanel()</code> function when adding a new line, but NOT when defining the <code>server()</code> function! (Why?)</li>
</ul>
</div>
</div>
<div id="inputs-control-widgets" class="section level2">
<h2><span class="header-section-number">25.6</span> Inputs / Control Widgets</h2>
<div id="inputs-control-widgets-together" class="section level3">
<h3><span class="header-section-number">25.6.1</span> Inputs / Control Widgets: Together</h3>
<p>Inputs /control widgets allow the user to specify input. Example: <code>sliderInput()</code>. Full list available at the <a href="https://shiny.rstudio.com/tutorial/written-tutorial/lesson3/">shiny.rstudio.com control widgets tutorial</a>.</p>
<p>Arguments for all widgets:</p>
<ul>
<li><code>inputId</code> – unique identifier.</li>
<li><code>label</code> – “title” to the widget.</li>
<li>others specific to the widget.</li>
</ul>
<p>Add this slider to the sidebar panel so that the user can select a price range:</p>
<pre><code>sliderInput(&quot;priceInput&quot;, &quot;Select your desired price range.&quot;,
            min = 0, max = 100, value = c(15, 30), pre=&quot;$&quot;)</code></pre>
<p>View the app. Note that the widgets <strong>aren’t yet linked</strong> to the outputs (graph and table)!</p>
</div>
<div id="inputs-control-widgets-your-turn" class="section level3">
<h3><span class="header-section-number">25.6.2</span> Inputs / Control Widgets: Your Turn</h3>
<p>Add another widget to the sidebar panel:</p>
<ul>
<li>Should be a radio button widget for users to select one type of beverage, with options given in the vector below:
<ul>
<li><code>c(&quot;BEER&quot;, &quot;REFRESHMENT&quot;, &quot;SPIRITS&quot;, &quot;WINE&quot;)</code></li>
</ul></li>
<li>Give the widget an ID called <code>&quot;typeInput&quot;</code>.</li>
</ul>
</div>
</div>
<div id="linking-inputs-to-outputs" class="section level2">
<h2><span class="header-section-number">25.7</span> Linking Inputs to Outputs</h2>
<div id="table-example-together" class="section level3">
<h3><span class="header-section-number">25.7.1</span> Table example: Together</h3>
<p>About:</p>
<p>The <code>input</code> argument of our <code>server()</code> function is (like <code>output</code>) also a named list (actually, “list-like”). Its names are the widget ID’s, and comes “pre-made” after having defined widgets. So:</p>
<p>Our widget ID’s currently:</p>
<ul>
<li><code>&quot;priceInput&quot;</code>, a slider.</li>
<li><code>&quot;typeInput&quot;</code>, a radio button.</li>
</ul>
<p>The corresponding <code>input</code>s:</p>
<ul>
<li><code>input$priceInput</code>: a numeric vector of length 2 with the lower and upper selected range.</li>
<li><code>input$typeInput</code>: a character vector of length 1 with the drink type.</li>
</ul>
<p>Let’s use <code>dplyr</code> to filter the table using columns <code>Price</code> and <code>Type</code>:</p>
<ol style="list-style-type: decimal">
<li>Load <code>tidyverse</code> at the top of the script.</li>
<li>Filter the data in the <code>renderTable()</code> function.</li>
<li>Run the app. Notice the live-updating of the table after interacting with a widget.
<ul>
<li>This is called <strong>reactive</strong> programming.</li>
</ul></li>
</ol>
</div>
<div id="plot-example-your-turn" class="section level3">
<h3><span class="header-section-number">25.7.2</span> Plot Example: Your Turn</h3>
<p>Modify the plot so that it only shows the filtered data.</p>
</div>
</div>
<div id="reactivity" class="section level2">
<h2><span class="header-section-number">25.8</span> Reactivity</h2>
</div>
<div id="the-concept-of-reactivity" class="section level2">
<h2><span class="header-section-number">25.9</span> The Concept of Reactivity</h2>
<p>Will the following code output <code>15</code> or <code>25</code>?</p>
<pre><code>x &lt;- 10
y &lt;- x + 5
x &lt;- 20
print(y)</code></pre>
<p>This is <em>non-reactive</em> programming. Shiny is an exception! Where is the reactivity in Shiny?</p>
<div id="defining-reactive-variables-together" class="section level3">
<h3><span class="header-section-number">25.9.1</span> Defining reactive variables: Together</h3>
<p>Can you spot the duplicate code in our app thus far? Use <code>reactive()</code> to prevent duplicated code:</p>
<ol style="list-style-type: decimal">
<li>Save wrangled data to a variable after passing through <code>reactive()</code></li>
<li>Use this object instead of the duplicated code. Catch: treat the output like it’s a function by putting <code>()</code> next to it.</li>
</ol>
</div>
</div>
<div id="more-shiny-features" class="section level2">
<h2><span class="header-section-number">25.10</span> More shiny features</h2>
<p>This concludes the “foundation of shiny”. Let’s take a look at other things we can do with shiny.</p>
<div id="uioutput-and-renderui" class="section level3">
<h3><span class="header-section-number">25.10.1</span> <code>uiOutput()</code> and <code>renderUI()</code></h3>
<p>You can conditionally have UI appear as output. See an example in <a href="http://stat545.com/shiny01_activity.html#basic-example-of-uioutput">Section 11.1 of Dean’s tutorial</a>.</p>
</div>
</div>
<div id="hosting-your-shiny-app-shinyapps.io" class="section level2">
<h2><span class="header-section-number">25.11</span> Hosting your shiny app: shinyapps.io</h2>
<p>You can host your app as a website for free at <code>www.shinyapps.io</code> (or on your own server) – just follow the instructions. Or, see <a href="http://stat545.com/shiny01_activity.html#host-on-shinyapps.io">Section 13.1 in Dean’s tutorial</a> for elaboration.</p>
<div id="interactive-rmd" class="section level3">
<h3><span class="header-section-number">25.11.1</span> Interactive Rmd</h3>
<p>Just pop <code>runtime: shiny</code> in the YAML header of an Rmd file, and your ready to generate interactive HTML-based documents.</p>
<p>See an example in <a href="http://stat545.com/shiny01_activity.html#shiny-in-rmarkdown">Section 14.1 of Dean’s tutorial</a>. For an elaboration, see <a href="https://bookdown.org/yihui/rmarkdown/shiny-documents.html">Chapter 19 of Yihui’s R Markdown book</a>.</p>
</div>
<div id="interacting-with-plots" class="section level3">
<h3><span class="header-section-number">25.11.2</span> Interacting with plots</h3>
<p>We can allow users to click on a graph to indicate input.</p>
<p>See <a href="https://shiny.rstudio.com/articles/plot-interaction.html">this RStudio page</a> for a description.</p>
</div>
<div id="dt-tables" class="section level3">
<h3><span class="header-section-number">25.11.3</span> DT tables</h3>
<p>Display your tables in a nicer / less static way with <a href="https://rstudio.github.io/DT/">DT tables</a>.</p>
</div>
<div id="shiny-looks" class="section level3">
<h3><span class="header-section-number">25.11.4</span> Shiny looks</h3>
<ul>
<li>You can change the look of your shiny app with <a href="http://rstudio.github.io/shinythemes/">shinythemes</a>.</li>
<li>You can use the <a href="https://rstudio.github.io/shinydashboard/"><code>shinydashboard</code> package</a> for a more “website-like functionality”.</li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="class-meeting-06.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="class-meeting-08.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/STAT545-UBC/Classroom/edit/master/cm107.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": ["main.pdf", "main.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
